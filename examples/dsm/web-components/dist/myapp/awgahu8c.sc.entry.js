const t=window.MyApp.h;var e,r=(function(t,e){!function(e,r){var i="file:"===e.location.protocol,n=r.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),a=Array.prototype.forEach||function(t,e){if(null==this||"function"!=typeof t)throw new TypeError;var r,i=this.length>>>0;for(r=0;r<i;++r)r in this&&t.call(e,this[r],r,this)},o={},s=0,l=[],u=[],c={},f=function(t){return t.cloneNode(!0)},p=function(t,e){u[t]=u[t]||[],u[t].push(e)},d=function(t,r,d,h){var g=t.getAttribute("data-src")||t.getAttribute("src");if(/\.svg/i.test(g))if(n)-1===l.indexOf(t)&&(l.push(t),t.setAttribute("src",""),function(t,r){if(void 0!==o[t])o[t]instanceof SVGSVGElement?r(f(o[t])):p(t,r);else{if(!e.XMLHttpRequest)return r("Browser does not support XMLHttpRequest"),!1;o[t]={},p(t,r);var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){if(404===n.status||null===n.responseXML)return r("Unable to load SVG file: "+t),i&&r("Note: SVG injection ajax calls do not work locally without adjusting security setting in your browser. Or consider using a local webserver."),r(),!1;if(!(200===n.status||i&&0===n.status))return r("There was a problem injecting the SVG: "+n.status+" "+n.statusText),!1;if(n.responseXML instanceof Document)o[t]=n.responseXML.documentElement;else if(DOMParser&&DOMParser instanceof Function){var e;try{e=(new DOMParser).parseFromString(n.responseText,"text/xml")}catch(t){e=void 0}if(!e||e.getElementsByTagName("parsererror").length)return r("Unable to parse SVG file: "+t),!1;o[t]=e.documentElement}!function(t){for(var e=0,r=u[t].length;e<r;e++)!function(e){setTimeout(function(){u[t][e](f(o[t]))},0)}(e)}(t)}},n.open("GET",t),n.overrideMimeType&&n.overrideMimeType("text/xml"),n.send()}}(g,function(i){if(void 0===i||"string"==typeof i)return h(i),!1;var n=t.getAttribute("id");n&&i.setAttribute("id",n);var o=t.getAttribute("title");o&&i.setAttribute("title",o);var u=[].concat(i.getAttribute("class")||[],"injected-svg",t.getAttribute("class")||[]).join(" ");i.setAttribute("class",function(t){for(var e={},r=(t=t.split(" ")).length,i=[];r--;)e.hasOwnProperty(t[r])||(e[t[r]]=1,i.unshift(t[r]));return i.join(" ")}(u));var f=t.getAttribute("style");f&&i.setAttribute("style",f);var p=[].filter.call(t.attributes,function(t){return/^data-\w[\w\-]*$/.test(t.name)});a.call(p,function(t){t.name&&t.value&&i.setAttribute(t.name,t.value)});var d,m,v,y,w={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],pattern:["fill","stroke"],radialGradient:["fill","stroke"]};Object.keys(w).forEach(function(t){m=w[t];for(var e=0,r=(d=i.querySelectorAll("defs "+t+"[id]")).length;e<r;e++){var n;y=(v=d[e].id)+"-"+s,a.call(m,function(t){for(var e=0,r=(n=i.querySelectorAll("["+t+'*="'+v+'"]')).length;e<r;e++)n[e].setAttribute(t,"url(#"+y+")")}),d[e].id=y}}),i.removeAttribute("xmlns:a");for(var b,A=i.querySelectorAll("script"),x=[],S=0,k=A.length;S<k;S++)(b=A[S].getAttribute("type"))&&"application/ecmascript"!==b&&"application/javascript"!==b||(x.push(A[S].innerText||A[S].textContent),i.removeChild(A[S]));if(x.length>0&&("always"===r||"once"===r&&!c[g])){for(var E=0,G=x.length;E<G;E++)new Function(x[E])(e);c[g]=!0}var M=i.querySelectorAll("style");a.call(M,function(t){t.textContent+=""}),t.parentNode.replaceChild(i,t),delete l[l.indexOf(t)],t=null,s++,h(i)}));else{var m=t.getAttribute("data-fallback")||t.getAttribute("data-png");m?(t.setAttribute("src",m),h(null)):d?(t.setAttribute("src",d+"/"+g.split("/").pop().replace(".svg",".png")),h(null)):h("This browser does not support SVG and no PNG fallback was defined.")}else h("Attempted to inject a file with a non-svg extension: "+g)};t.exports=function(t,e,r){var i=(e=e||{}).evalScripts||"always",n=e.pngFallback||!1,o=e.each;if(void 0!==t.length){var s=0;a.call(t,function(e){d(e,i,n,function(e){o&&"function"==typeof o&&o(e),r&&t.length===++s&&r(s)})})}else t?d(t,i,n,function(e){o&&"function"==typeof o&&o(e),r&&r(1),t=null}):r&&r(0)}}(window,document)}(e={exports:{}}),e.exports);class i{updateImage(){if(this.imageElement){const t=new Image;for(t.src=this.url,t.style.fill=this.color,t.style.width=this.width+"px";this.imageElement.firstChild;)this.imageElement.removeChild(this.imageElement.firstChild);this.imageElement.append(t),r(t)}}componentDidLoad(){this.updateImage()}componentDidUpdate(){this.updateImage()}render(){return t("div",{ref:t=>this.imageElement=t})}static get is(){return"svg-loader"}static get properties(){return{color:{type:String,attr:"color"},url:{type:String,attr:"url"},width:{type:String,attr:"width"}}}}export{i as SvgLoader};